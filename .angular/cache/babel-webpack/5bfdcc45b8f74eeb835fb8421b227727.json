{"ast":null,"code":"import { ModalComponent } from '@app/modules/admin/clients/modal/modal.component';\nimport { takeUntil } from 'rxjs/operators';\nimport { Observable, Subject } from 'rxjs';\nimport { StoreKeys } from '@app/app.state';\nimport { ClientsStateProperties, ClientsState } from '@app/modules/admin/clients/IClientsState';\nimport { loadClients, loadedClients } from '@app/state/actions/clients.actions';\nimport { selectLoading } from '@app/state/selectors/client.selector';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@app/core/api/services/client/client.service\";\nimport * as i3 from \"gentleman-state-manager\";\nimport * as i4 from \"@app/core/log/log.service\";\nimport * as i5 from \"@ngrx/store\";\nimport * as i6 from \"@fuse/directives/scrollbar/scrollbar.directive\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@fuse/components/card/card.component\";\nimport * as i11 from \"@angular/router\";\n\nfunction ClientsComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Cargando ....\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [\"./\"];\n};\n\nfunction ClientsComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"fuse-card\", 11, 12);\n    i0.ɵɵelementContainerStart(3, 13);\n    i0.ɵɵelementStart(4, \"div\", 14);\n    i0.ɵɵelement(5, \"img\", 15);\n    i0.ɵɵelementStart(6, \"div\", 16);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 17);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"hr\", 18);\n    i0.ɵɵelementStart(11, \"div\", 19);\n    i0.ɵɵelementStart(12, \"div\", 20);\n    i0.ɵɵelementStart(13, \"span\", 21);\n    i0.ɵɵtext(14, \"1.2k\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 22);\n    i0.ɵɵtext(16, \"POSTS\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 20);\n    i0.ɵɵelementStart(18, \"span\", 21);\n    i0.ɵɵtext(19, \"200k\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"span\", 22);\n    i0.ɵɵtext(21, \"FOLLOWERS\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 20);\n    i0.ɵɵelementStart(23, \"span\", 21);\n    i0.ɵɵtext(24, \"1.2k\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"span\", 22);\n    i0.ɵɵtext(26, \"FOLLOWING\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"hr\", 23);\n    i0.ɵɵelementStart(28, \"div\", 24);\n    i0.ɵɵtext(29, \"I\\u2019m a friendly kitchen assistant who suffers from a severe phobia of buttons \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ClientsComponent_ng_container_10_Template_button_click_30_listener() {\n      i0.ɵɵrestoreView(_r5);\n\n      const _r3 = i0.ɵɵreference(2);\n\n      return _r3.face = \"back\";\n    });\n    i0.ɵɵtext(31, \" More about Brian \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(32, 26);\n    i0.ɵɵelementStart(33, \"div\", 14);\n    i0.ɵɵelementStart(34, \"div\", 27);\n    i0.ɵɵelementStart(35, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function ClientsComponent_ng_container_10_Template_button_click_35_listener() {\n      i0.ɵɵrestoreView(_r5);\n\n      const _r3 = i0.ɵɵreference(2);\n\n      return _r3.face = \"front\";\n    });\n    i0.ɵɵelement(36, \"mat-icon\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 30);\n    i0.ɵɵtext(38, \"About Me\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"div\", 31);\n    i0.ɵɵtext(40, \" I\\u2019m a friendly kitchen assistant who suffers from a severe phobia of buttons. \");\n    i0.ɵɵelement(41, \"br\");\n    i0.ɵɵelement(42, \"br\");\n    i0.ɵɵtext(43, \" Brother of Elijah Jay Watkins, who has phobia of buttons and trust issues. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(44, \"hr\", 32);\n    i0.ɵɵelementStart(45, \"div\", 33);\n    i0.ɵɵelementStart(46, \"div\", 34);\n    i0.ɵɵelement(47, \"mat-icon\", 35);\n    i0.ɵɵelementStart(48, \"span\", 36);\n    i0.ɵɵtext(49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"div\", 37);\n    i0.ɵɵelement(51, \"mat-icon\", 35);\n    i0.ɵɵelementStart(52, \"span\", 36);\n    i0.ɵɵtext(53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"div\", 37);\n    i0.ɵɵelement(55, \"mat-icon\", 35);\n    i0.ɵɵelementStart(56, \"span\", 36);\n    i0.ɵɵtext(57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"button\", 38);\n    i0.ɵɵtext(59, \" See complete bio \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const client_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", client_r2.id)(\"flippable\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate3(\"\", client_r2.name, \" \", client_r2.firstName, \" \", client_r2.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r2.address);\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"color\", \"primary\")(\"routerLink\", i0.ɵɵpureFunction0(18, _c0));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"color\", \"primary\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"svgIcon\", \"heroicons_outline:arrow-left\");\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:location-marker\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r2.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:mail\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r2.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:phone\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r2.phoneNumber);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"color\", \"primary\")(\"routerLink\", i0.ɵɵpureFunction0(19, _c0));\n  }\n}\n\nconst _c1 = function () {\n  return {\n    wheelPropagation: false,\n    suppressScrollX: true\n  };\n};\n\nexport let ClientsComponent = /*#__PURE__*/(() => {\n  class ClientsComponent {\n    constructor(dialog, clientsService, gentlemanStateService, logService, store) {\n      this.dialog = dialog;\n      this.clientsService = clientsService;\n      this.gentlemanStateService = gentlemanStateService;\n      this.logService = logService;\n      this.store = store;\n      this.clientState = new ClientsState();\n      this.loading$ = new Observable();\n      this.onDestroy$ = new Subject();\n\n      this.getClients = () => {\n        this.store.dispatch(loadClients());\n        this.gentlemanStateService.getEntity(StoreKeys.CLIENTS_STATE).setObservableValues(true, ClientsStateProperties.LOADING_PROPERTY, true);\n        this.clientsService.getClients().pipe(takeUntil(this.onDestroy$)).subscribe(clients => {\n          this.store.dispatch(loadedClients(clients));\n          this.setClients(new ClientsState(true, clients), true);\n        }, error => {\n          this.store.dispatch(loadedClients([]));\n          this.setClients(new ClientsState(true), true);\n        });\n      };\n\n      this.setClients = (clientsState, emit) => {}; // this.gentlemanStateService\n      //     .getEntity(StoreKeys.CLIENTS_STATE)\n      //     .getObservable()\n      //     .pipe(\n      //         takeUntil(this.onDestroy$)\n      //     ).subscribe((clientState: ClientsState) => {\n      //         this.clientState = clientState\n      //     });\n\n    } // -----------------------------------------------------------------------------------------------------\n    // @ Lifecycle hooks\n    // -----------------------------------------------------------------------------------------------------\n\n\n    ngOnInit() {\n      this.screenWidth = window.innerWidth;\n      this.screenHeight = window.innerHeight;\n      this.loading$ = this.store.select(selectLoading);\n      this.getClients();\n    }\n\n    ngOnDestroy() {\n      this.onDestroy$.next();\n      this.onDestroy$.complete();\n    } // -----------------------------------------------------------------------------------------------------\n    // @ Listeners\n    // -----------------------------------------------------------------------------------------------------\n\n\n    onResize(event) {\n      this.screenWidth = window.innerWidth;\n      this.screenHeight = window.innerHeight;\n    } // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n\n    openDialog(action) {\n      const dialogRef = this.dialog.open(ModalComponent, {\n        width: this.screenWidth > 400 ? '60%' : '100%',\n        minWidth: this.screenWidth > 400 ? '400px' : '100%',\n        data: {\n          action\n        }\n      }); // dialogRef.afterClosed()\n      //     .pipe(\n      //         switchMap((result: any) => {\n      //             return this.clientsService.getClients();\n      //         })\n      //     );\n      // dialogRef.afterClosed().subscribe(result => {\n      //     console.log('result ofter close client modal', result);\n      //\n      // });\n    }\n\n  }\n\n  ClientsComponent.ɵfac = function ClientsComponent_Factory(t) {\n    return new (t || ClientsComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ClientService), i0.ɵɵdirectiveInject(i3.GentlemanStateService), i0.ɵɵdirectiveInject(i4.LogService), i0.ɵɵdirectiveInject(i5.Store));\n  };\n\n  ClientsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ClientsComponent,\n    selectors: [[\"app-clients\"]],\n    hostBindings: function ClientsComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"resize\", function ClientsComponent_resize_HostBindingHandler($event) {\n          return ctx.onResize($event);\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    decls: 13,\n    vars: 8,\n    consts: [[\"fuseScrollbar\", \"\", 1, \"absolute\", \"inset-0\", \"flex\", \"flex-col\", \"min-w-0\", 3, \"fuseScrollbarOptions\"], [1, \"flex\", \"flex-col\", \"sm:flex-row\", \"flex-0\", \"sm:items-center\", \"sm:justify-between\", \"p-6\", \"sm:py-8\", \"sm:px-10\", \"border-b\", \"bg-card\", \"dark:bg-transparent\"], [1, \"flex-1\", \"min-w-0\"], [1, \"mt-2\"], [1, \"text-3xl\", \"md:text-4xl\", \"font-extrabold\", \"tracking-tight\", \"leading-7\", \"sm:leading-10\", \"truncate\"], [1, \"flex-auto\", \"p-6\", \"sm:p-10\"], [1, \"flex\", \"flex-wrap\", \"items-start\", \"w-full\", \"max-w-400\", \"justify-evenly\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-fab\", \"\", \"aria-label\", \"Agregar Cliente\", 1, \"absolute\", \"bottom-7\", \"right-7\", 3, \"color\", \"click\"], [3, \"svgIcon\"], [3, \"id\", \"flippable\"], [\"fuseCard\", \"\"], [\"fuseCardFront\", \"\"], [1, \"flex\", \"flex-col\", \"items-center\", \"max-w-80\", \"w-full\", \"p-8\", \"pb-6\", \"filter-info\"], [\"src\", \"assets/images/avatars/male-04.jpg\", \"alt\", \"Card cover image\", 1, \"w-32\", \"h-32\", \"rounded-full\"], [1, \"text-2xl\", \"font-semibold\", \"leading-tight\", \"text-center\", \"mt-8\"], [1, \"text-secondary\", \"leading-tight\", \"text-center\", \"mt-1\"], [1, \"w-full\", \"border-t\", \"mt-8\", \"mb-0\"], [1, \"w-full\", \"flex\", \"items-center\", \"justify-between\", \"my-4\", \"px-2\"], [1, \"flex\", \"flex-col\", \"items-center\"], [1, \"font-bold\"], [1, \"text-sm\", \"font-medium\", \"text-secondary\"], [1, \"w-full\", \"border-t\", \"mt-0\", \"mb-8\"], [1, \"text-center\", \"text-secondary\"], [\"mat-button\", \"\", 1, \"px-6\", \"mt-4\", 3, \"color\", \"routerLink\", \"click\"], [\"fuseCardBack\", \"\"], [1, \"mb-2\", \"-mx-3\"], [\"mat-icon-button\", \"\", 3, \"color\", \"click\"], [1, \"icon-size-5\", 3, \"svgIcon\"], [1, \"text-2xl\", \"font-semibold\", \"leading-tight\"], [1, \"mt-4\"], [1, \"w-full\", \"border-t\", \"my-6\"], [1, \"flex\", \"flex-col\"], [1, \"flex\", \"items-center\"], [1, \"icon-size-5\", \"mr-3\", 3, \"svgIcon\"], [1, \"leading-none\"], [1, \"flex\", \"items-center\", \"mt-4\"], [\"mat-flat-button\", \"\", 1, \"px-6\", \"mt-8\", 3, \"color\", \"routerLink\"]],\n    template: function ClientsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"h2\", 4);\n        i0.ɵɵtext(5, \" Clientes \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵtemplate(8, ClientsComponent_p_8_Template, 2, 0, \"p\", 7);\n        i0.ɵɵpipe(9, \"async\");\n        i0.ɵɵtemplate(10, ClientsComponent_ng_container_10_Template, 60, 20, \"ng-container\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function ClientsComponent_Template_button_click_11_listener() {\n          return ctx.openDialog(\"Add\");\n        });\n        i0.ɵɵelement(12, \"mat-icon\", 10);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"fuseScrollbarOptions\", i0.ɵɵpureFunction0(7, _c1));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(9, 5, ctx.loading$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.clientState.clients);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"color\", \"primary\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"svgIcon\", \"heroicons_outline:plus\");\n      }\n    },\n    directives: [i6.FuseScrollbarDirective, i7.NgIf, i7.NgForOf, i8.MatButton, i9.MatIcon, i10.FuseCardComponent, i11.RouterLink],\n    pipes: [i7.AsyncPipe],\n    styles: [\"table{width:100%}.mat-form-field{font-size:14px;width:100%}td,th{width:25%}.container-table{overflow-x:auto}fuse-card{margin:16px}\\n\"],\n    encapsulation: 2\n  });\n  return ClientsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}