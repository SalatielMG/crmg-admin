{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { ClientModel } from '@app/core/api/models/client/client.model';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { StoreKeys } from '@app/app.state';\nimport { ClientsStateProperties } from '@app/modules/admin/clients/IClientsState';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@app/core/log/log.service\";\nimport * as i4 from \"@app/shared/services/validations/form-control/form-control.service\";\nimport * as i5 from \"@app/core/api/services/client/client.service\";\nimport * as i6 from \"@app/components/toast/toast.service\";\nimport * as i7 from \"gentleman-state-manager\";\nimport * as i8 from \"@ngneat/transloco\";\nimport * as i9 from \"@fuse/directives/scrollbar/scrollbar.directive\";\nimport * as i10 from \"@angular/material/form-field\";\nimport * as i11 from \"@angular/material/input\";\nimport * as i12 from \"@angular/material/icon\";\nimport * as i13 from \"@angular/common\";\nimport * as i14 from \"@angular/material/divider\";\nimport * as i15 from \"@angular/material/button\";\n\nfunction ModalComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h2\", 23);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const t_r7 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", t_r7(ctx_r0.data.action), \" Cliente\");\n  }\n}\n\nfunction ModalComponent_mat_error_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const error_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", error_r8, \" \");\n  }\n}\n\nfunction ModalComponent_mat_error_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const error_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", error_r9, \" \");\n  }\n}\n\nfunction ModalComponent_mat_error_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const error_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", error_r10, \" \");\n  }\n}\n\nfunction ModalComponent_mat_error_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const error_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", error_r11, \" \");\n  }\n}\n\nfunction ModalComponent_mat_error_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const error_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", error_r12, \" \");\n  }\n}\n\nfunction ModalComponent_mat_error_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const error_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", error_r13, \" \");\n  }\n}\n\nexport let ModalComponent = /*#__PURE__*/(() => {\n  class ModalComponent {\n    constructor(dialog, formBuilder, logService, formControlValidationService, data, clientService, toastService, gentlemanStateService) {\n      this.dialog = dialog;\n      this.formBuilder = formBuilder;\n      this.logService = logService;\n      this.formControlValidationService = formControlValidationService;\n      this.data = data;\n      this.clientService = clientService;\n      this.toastService = toastService;\n      this.gentlemanStateService = gentlemanStateService; // -----------------------------------------------------------------------------------------------------\n      // @ Public methods\n      // -----------------------------------------------------------------------------------------------------\n\n      this.submit = event => {\n        event.preventDefault();\n        if (this.clientFormGroup.invalid) return;\n        this.logService.info(this.clientFormGroup.value);\n        this.clientService.create(this.clientFormGroup.value).subscribe(response => {\n          this.addNewClientToState(response.client);\n          this.toastService.success(response.message);\n          this.dialog.closeAll();\n        }, error => {\n          console.log('error to create client', error);\n        });\n      }; // -----------------------------------------------------------------------------------------------------\n      // @ Private methods\n      // -----------------------------------------------------------------------------------------------------\n\n\n      this.buildForm = (client = new ClientModel()) => {\n        this.clientFormGroup = this.formBuilder.group({\n          name: [client.name, Validators.required],\n          firstName: [client.firstName, Validators.required],\n          lastName: [client.lastName, Validators.required],\n          address: [client.address, Validators.required],\n          email: [client.email, Validators.email],\n          phoneNumber: [client.phoneNumber, [Validators.required, Validators.maxLength(10)]]\n        });\n      };\n\n      this.addNewClientToState = client => {\n        let clients = this.gentlemanStateService.getEntity(StoreKeys.CLIENTS_STATE).getPropertyFromState(ClientsStateProperties.CLIENTS_PROPERTY);\n        this.gentlemanStateService.getEntity(StoreKeys.CLIENTS_STATE).setObservableValues({\n          loading: false,\n          clients: [...clients, client]\n        }, null, true);\n      };\n\n      this.buildForm();\n    } // -----------------------------------------------------------------------------------------------------\n    // @ Lifecycle hooks\n    // -----------------------------------------------------------------------------------------------------\n\n\n    ngOnInit() {\n      if (this.data.action === 'Edit') {\n        this.buildForm(this.data.data);\n      } // console.log('this.data', this.data);\n\n    }\n\n  }\n\n  ModalComponent.ɵfac = function ModalComponent_Factory(t) {\n    return new (t || ModalComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.LogService), i0.ɵɵdirectiveInject(i4.FormControlService), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i5.ClientService), i0.ɵɵdirectiveInject(i6.ToastService), i0.ɵɵdirectiveInject(i7.GentlemanStateService));\n  };\n\n  ModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ModalComponent,\n    selectors: [[\"app-modal\"]],\n    decls: 63,\n    vars: 22,\n    consts: [[4, \"transloco\"], [3, \"formGroup\", \"ngSubmit\"], [\"fuseScrollbar\", \"\", 1, \"mat-typography\"], [1, \"flex\", \"flex-col\", \"gt-xs:flex-row\", \"gt-xs:items-start\"], [1, \"gt-xs:max-w-80\", \"gt-xs:pr-12\"], [1, \"text-lg\", \"font-medium\"], [1, \"text-secondary\", \"mb-6\"], [1, \"flex-auto\", \"min-w-64\"], [1, \"flex\"], [1, \"flex-auto\"], [\"matInput\", \"\", \"formControlName\", \"name\", 3, \"placeholder\"], [\"matPrefix\", \"\", 1, \"icon-size-5\", 3, \"svgIcon\"], [4, \"ngFor\", \"ngForOf\"], [\"matInput\", \"\", \"formControlName\", \"firstName\", 3, \"placeholder\"], [\"matInput\", \"\", \"formControlName\", \"lastName\", 3, \"placeholder\"], [1, \"fuse-mat-textarea\", \"flex-auto\"], [\"matInput\", \"\", \"formControlName\", \"address\", 3, \"placeholder\", \"rows\"], [1, \"mt-4\", \"mb-12\"], [\"matInput\", \"\", \"formControlName\", \"email\", 3, \"placeholder\"], [\"matInput\", \"\", \"type\", \"number\", \"maxlength\", \"10\", \"formControlName\", \"phoneNumber\", 3, \"placeholder\"], [\"align\", \"end\", 1, \"bg-gray-50\", \"dark:bg-gray-700\", \"border-t\", \"custom-actions-modal\"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\", \"type\", \"button\"], [\"mat-flat-button\", \"\", \"type\", \"submit\", \"cdkFocusInitial\", \"\", 3, \"color\", \"disabled\"], [\"mat-dialog-title\", \"\"]],\n    template: function ModalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ModalComponent_ng_container_0_Template, 3, 1, \"ng-container\", 0);\n        i0.ɵɵelementStart(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function ModalComponent_Template_form_ngSubmit_1_listener($event) {\n          return ctx.submit($event);\n        });\n        i0.ɵɵelementStart(2, \"mat-dialog-content\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"p\", 5);\n        i0.ɵɵtext(6, \"Perfil\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵelementStart(9, \"div\", 8);\n        i0.ɵɵelementStart(10, \"mat-form-field\", 9);\n        i0.ɵɵelementStart(11, \"mat-label\");\n        i0.ɵɵtext(12, \"Nombre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"input\", 10);\n        i0.ɵɵelement(14, \"mat-icon\", 11);\n        i0.ɵɵtemplate(15, ModalComponent_mat_error_15_Template, 2, 1, \"mat-error\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 8);\n        i0.ɵɵelementStart(17, \"mat-form-field\", 9);\n        i0.ɵɵelementStart(18, \"mat-label\");\n        i0.ɵɵtext(19, \"Apellido Paterno\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 13);\n        i0.ɵɵelement(21, \"mat-icon\", 11);\n        i0.ɵɵtemplate(22, ModalComponent_mat_error_22_Template, 2, 1, \"mat-error\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 8);\n        i0.ɵɵelementStart(24, \"mat-form-field\", 9);\n        i0.ɵɵelementStart(25, \"mat-label\");\n        i0.ɵɵtext(26, \"Apellido Materno\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"input\", 14);\n        i0.ɵɵelement(28, \"mat-icon\", 11);\n        i0.ɵɵtemplate(29, ModalComponent_mat_error_29_Template, 2, 1, \"mat-error\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"div\", 8);\n        i0.ɵɵelementStart(31, \"mat-form-field\", 15);\n        i0.ɵɵelementStart(32, \"mat-label\");\n        i0.ɵɵtext(33, \"Direcci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(34, \"textarea\", 16);\n        i0.ɵɵelement(35, \"mat-icon\", 11);\n        i0.ɵɵtemplate(36, ModalComponent_mat_error_36_Template, 2, 1, \"mat-error\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(37, \"mat-divider\", 17);\n        i0.ɵɵelementStart(38, \"div\", 3);\n        i0.ɵɵelementStart(39, \"div\", 4);\n        i0.ɵɵelementStart(40, \"p\", 5);\n        i0.ɵɵtext(41, \"Informaci\\u00F3n b\\u00E1sica\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(42, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"div\", 7);\n        i0.ɵɵelementStart(44, \"div\", 8);\n        i0.ɵɵelementStart(45, \"mat-form-field\", 9);\n        i0.ɵɵelementStart(46, \"mat-label\");\n        i0.ɵɵtext(47, \"Correo Electronico\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(48, \"input\", 18);\n        i0.ɵɵelement(49, \"mat-icon\", 11);\n        i0.ɵɵtemplate(50, ModalComponent_mat_error_50_Template, 2, 1, \"mat-error\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"div\", 8);\n        i0.ɵɵelementStart(52, \"mat-form-field\", 9);\n        i0.ɵɵelementStart(53, \"mat-label\");\n        i0.ɵɵtext(54, \"Numero telefonico\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(55, \"input\", 19);\n        i0.ɵɵelement(56, \"mat-icon\", 11);\n        i0.ɵɵtemplate(57, ModalComponent_mat_error_57_Template, 2, 1, \"mat-error\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"mat-dialog-actions\", 20);\n        i0.ɵɵelementStart(59, \"button\", 21);\n        i0.ɵɵtext(60, \"Cancelar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"button\", 22);\n        i0.ɵɵtext(62, \"Guardar \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.clientFormGroup);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"placeholder\", \"Nombre\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:user-circle\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.formControlValidationService.getErrors(ctx.clientFormGroup.get(\"name\")));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"placeholder\", \"Apellido Paterno\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:user-circle\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.formControlValidationService.getErrors(ctx.clientFormGroup.get(\"firstName\")));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"placeholder\", \"Apellido Materno\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:user-circle\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.formControlValidationService.getErrors(ctx.clientFormGroup.get(\"lastName\")));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"placeholder\", \"Direcci\\u00F3n\")(\"rows\", 3);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:menu-alt-2\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.formControlValidationService.getErrors(ctx.clientFormGroup.get(\"address\")));\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"placeholder\", \"example@example.com\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:mail\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.formControlValidationService.getErrors(ctx.clientFormGroup.get(\"email\")));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"placeholder\", \"9711111111\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"svgIcon\", \"heroicons_solid:phone\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.formControlValidationService.getErrors(ctx.clientFormGroup.get(\"phoneNumber\")));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"color\", \"primary\")(\"disabled\", ctx.clientFormGroup.invalid);\n      }\n    },\n    directives: [i8.TranslocoDirective, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i1.MatDialogContent, i9.FuseScrollbarDirective, i10.MatFormField, i10.MatLabel, i11.MatInput, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i12.MatIcon, i10.MatPrefix, i13.NgForOf, i14.MatDivider, i2.NumberValueAccessor, i2.MaxLengthValidator, i1.MatDialogActions, i15.MatButton, i1.MatDialogClose, i1.MatDialogTitle, i10.MatError],\n    styles: [\".custom-actions-modal[_ngcontent-%COMP%]{padding-right:24px;margin-right:-24px;margin-left:-24px}.mat-dialog-container[_ngcontent-%COMP%]{overflow-x:hidden}\"]\n  });\n  return ModalComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}